import{_ as s,o as a,c as n,V as l}from"./chunks/framework.24f0af87.js";const i=JSON.parse('{"title":"系统变量","description":"","frontmatter":{},"headers":[],"relativePath":"zh/docs/6.Archive/4.SystemVariable.md","filePath":"zh/docs/6.Archive/4.SystemVariable.md"}'),p={name:"zh/docs/6.Archive/4.SystemVariable.md"},o=l(`<h1 id="系统变量" tabindex="-1">系统变量 <a class="header-anchor" href="#系统变量" aria-label="Permalink to &quot;系统变量&quot;">​</a></h1><p>CAD系统变量是用于存储操作环境设置、图形信息和命令设置等的数据存储单位。它们可以控制CAD的某些功能和设计环境、命令的工作方式。CAD系统变量通常具有6到10个字符的长度，可以是整数型、实数型、点开关或文本字符串等类型。有些系统变量具有只读属性，用户只能查看而不能修改；而没有只读属性的系统变量可以通过调用命令进行查看和设置。下面介绍的是我们在CAD绘图中最常用的几种系统变量。</p><p>mxcad 根据上述CAD系统变量的定义提供了对应CAD变量的获取和设置方法。根据不同的变量类型, 我们分了四种不同方式设置:</p><ol><li><p>获取浮点数变量<a href="./../../api/classes/2d.McObject.html#getsysvardouble">getSysVarDouble</a>,</p></li><li><p>获取长整数变量<a href="./../../api/classes/2d.McObject.html#getSysVarLong">getSysVarLong</a></p></li><li><p>获取点变量<a href="./../../api/classes/2d.McObject.html#getSysVarLong">getSysVarPoint</a></p></li><li><p>获取字符串变量<a href="./../../api/classes/2d.McObject.html#getSysVarString">getSysVarString</a></p></li></ol><div class="tip custom-block"><p class="custom-block-title">提示</p><p>设置就是方法的<code>get</code>改成<code>set</code>, 传入变量名和对应类型的值。</p></div><h2 id="正交" tabindex="-1">正交 <a class="header-anchor" href="#正交" aria-label="Permalink to &quot;正交&quot;">​</a></h2><p>我们可以通过设置长整数变量 <code>ORTHOMODE</code> 来控制是否开启正交绘图模式。开启正交绘图模式后，可限制光标只在水平或垂直轴上移动，来达到直角或正交模式下绘图的目的。但用户从命令行输入坐标值或使用实体捕捉时，将忽略正交绘图。</p><table><thead><tr><th>变量名</th><th>变量值</th><th>说明</th></tr></thead><tbody><tr><td>ORTHOMODE</td><td>1</td><td>开启正交绘图模式</td></tr><tr><td>ORTHOMODE</td><td>0</td><td>关闭正交绘图模式</td></tr></tbody></table><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MxCpp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mxcad</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mxcad </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> MxCpp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentMxCAD</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 开启正交绘图模式</span></span>
<span class="line"><span style="color:#A6ACCD;">mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ORTHOMODE</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="对象捕捉" tabindex="-1">对象捕捉 <a class="header-anchor" href="#对象捕捉" aria-label="Permalink to &quot;对象捕捉&quot;">​</a></h2><p>在CAD绘图过程中经常会遇到需要图形一些特殊位置的点如端点、中点、交点等。如果单靠眼睛去捕捉这些点是不精确的，因此 mxcad 提供了一些实体捕捉方式来提高精确性。</p><p>我们可以通过设置长整数变量 <code>OSMODE</code> 的动态捕捉值来设置不同的捕捉方式，1其中，我们获取到的动态捕捉值是根据这些开关是否开启运算得到的总值。下面以设置平行捕捉方式为例（其他捕捉方式可直接参考下面示例）：</p><table><thead><tr><th>方式</th><th>运算值</th><th>说明</th></tr></thead><tbody><tr><td>最近点捕捉</td><td>512</td><td>捕捉对象与指定点距离最近的点。这些对象包括直线、圆、圆弧、复合线、椭圆、样条曲线等距光标最近的点。</td></tr><tr><td>端点捕捉</td><td>1</td><td>捕捉到圆弧、直线、复合线、射线、平面等距光标最近的端点</td></tr><tr><td>中点捕捉</td><td>2</td><td>捕捉到圆弧、直线、复合线、实体填充线、样条曲线等实体的中点</td></tr><tr><td>圆心捕捉</td><td>4</td><td>捕捉到圆弧、圆、椭圆和椭圆弧的圆心。</td></tr><tr><td>垂足捕捉</td><td>128</td><td>捕捉到与圆弧、圆、构造线、椭圆、椭圆弧、直线、复合线、射线、实体或样条曲线等正交的点，也可以捕捉到对象的外观延伸的正交点。</td></tr><tr><td>切点捕捉</td><td>256</td><td>在圆或圆弧上捕捉到与上一点相连的点，这两点形成的直线与该圆或圆弧相切。</td></tr><tr><td>象限点捕捉</td><td>16</td><td>捕捉到圆弧、圆或椭圆最近的象限点。</td></tr><tr><td>插入点捕捉</td><td>64</td><td>捕捉到块、文字、属性、或属性定义等的插入点。</td></tr><tr><td>交点捕捉</td><td>32</td><td>捕捉到圆弧、圆、椭圆、椭圆弧、直线、复合线、射线、样条曲线或构造线等对象之间的交点。</td></tr><tr><td>延伸捕捉</td><td>4096</td><td>延伸捕捉模式用于捕捉直线或圆弧的延伸点。</td></tr><tr><td>平行捕捉</td><td>8192</td><td>平行捕捉模式用于绘制平行于另一对象的直线。</td></tr><tr><td>外观交点捕捉</td><td>2048</td><td>捕捉弧、圆、椭圆、直线、复合线、射线、样条曲线或参照线等两个对象的外观交点，这两个对象在三维空间不相交，但在图形显示里看起来是相交的。</td></tr><tr><td>关闭捕捉</td><td>16384</td><td>关闭实体捕捉。</td></tr></tbody></table><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MxCpp</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">McGePoint3d</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mxcad</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mxcad </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MxCpp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentMxCAD</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> osModeVal </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">OSMODE</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">enum</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SysVarLongSketchSettingsOsMode</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 端点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  End </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 中点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Mid </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 圆心点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Cen </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 节点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Node </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 象限点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Quad </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 交点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Int </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">32</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 插入点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Ins </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">64</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 垂足点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Perp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">128</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 切点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Tan </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">256</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 最近点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Near </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">512</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/**外观交点捕捉*/</span></span>
<span class="line"><span style="color:#A6ACCD;">  App </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2048</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/**延伸点捕捉*/</span></span>
<span class="line"><span style="color:#A6ACCD;">  Ext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/** 平行点捕捉 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Par </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8192</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/**捕捉关闭 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  Off </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">16384</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 关闭捕捉 0 或 1</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> osModeOff </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> osModeVal </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> SysVarLongSketchSettingsOsMode</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Off</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 平行点捕捉 0 或 1</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> osModePar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> osModeVal </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> SysVarLongSketchSettingsOsMode</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Par</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 是否开启平行点捕捉</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> isOpenOsModePar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 设置</span></span>
<span class="line"><span style="color:#A6ACCD;">mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">OSMODE</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    isOpenOsModePar </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">?</span></span>
<span class="line"><span style="color:#A6ACCD;">    (osModeVal </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> SysVarLongSketchSettingsOsMode</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Par) </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    (osModeVal </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">SysVarLongSketchSettingsOsMode</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Par)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="动态输入" tabindex="-1">动态输入 <a class="header-anchor" href="#动态输入" aria-label="Permalink to &quot;动态输入&quot;">​</a></h2><p>我们可以通过设置长整数变量 <code>DYNINPUT</code> 来控制是否开启动态输入模式。开启动态输入模式后，用户在绘图时可以实时查看并编辑当前操作的长度、角度和圆弧半径等数值。</p><table><thead><tr><th>变量名</th><th>变量值</th><th>说明</th></tr></thead><tbody><tr><td>DYNINPUT</td><td>1</td><td>开启动态输入模式</td></tr><tr><td>DYNINPUT</td><td>0</td><td>关闭动态输入模式</td></tr></tbody></table><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MxCpp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mxcad</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mxcad </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> MxCpp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentMxCAD</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 开启动态输入模式</span></span>
<span class="line"><span style="color:#A6ACCD;">mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DYNINPUT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="极轴和对象追踪" tabindex="-1">极轴和对象追踪 <a class="header-anchor" href="#极轴和对象追踪" aria-label="Permalink to &quot;极轴和对象追踪&quot;">​</a></h2><p>极轴追踪允许用户沿特定的角度增量来追踪点，从而帮助创建精确的直线、角度等图形对象。例如，如果用户设置了30度的角度增量，那么在使用极轴追踪时，每相隔30度，光标处就会显示一条虚线，帮助用户追踪和定位到特定的角度。</p><p>我们可以通过设置长整数变量 <code>AUTOSNAP</code> 来启动极轴，长整数变量<code>DYNTRACE</code>来启动对象追踪。其中极轴的增量可以通过设置浮点数变量<code>POLARANG</code>，为该变量赋值时需将角度转化为弧度值。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MxCpp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mxcad</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mxcad </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> MxCpp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentMxCAD</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 开启对象追踪</span></span>
<span class="line"><span style="color:#A6ACCD;">mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DYNTRACE</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 开启极轴</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> autoSnapVal </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">AUTOSNAP</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 指定极轴角度</span></span>
<span class="line"><span style="color:#A6ACCD;">mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarDouble</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">POLARANG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">180</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">PI)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 是否开启极轴</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> isOpenOsModePar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 设置</span></span>
<span class="line"><span style="color:#A6ACCD;">mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">AUTOSNAP</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> isOpenOsModePar </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> (autoSnapVal </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">(autoSnapVal </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">~</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">) )</span></span></code></pre></div><h2 id="栅格" tabindex="-1">栅格 <a class="header-anchor" href="#栅格" aria-label="Permalink to &quot;栅格&quot;">​</a></h2><p>栅格模式在CAD中可以看作是在二维空间中设置的一系列规则点，这些点或线形成了一个矩阵，覆盖了用户坐标系的整个平面。开启栅格模式后，用户可以通过栅格点来精确地定位和绘制对象，类似于在图纸下放置一张坐标纸。栅格模式还有助于显示对象之间的距离和角度，作为一个定位和显示的参考框架。</p><p>我们可以通过设置长整数变量 <code>GRIDMODE</code> 来控制是否开启格栅模式。</p><table><thead><tr><th>变量名</th><th>变量值</th><th>说明</th></tr></thead><tbody><tr><td>GRIDMODE</td><td>1</td><td>开启栅格模式</td></tr><tr><td>GRIDMODE</td><td>0</td><td>关闭栅格模式</td></tr></tbody></table><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MxCpp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mxcad</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mxcad </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> MxCpp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentMxCAD</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 开启栅格模式</span></span>
<span class="line"><span style="color:#A6ACCD;">mxcad</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSysVarLong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GRIDMODE</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span></span></code></pre></div>`,27),t=[o];function e(c,r,D,y,C,A){return a(),n("div",null,t)}const d=s(p,[["render",e]]);export{i as __pageData,d as default};
