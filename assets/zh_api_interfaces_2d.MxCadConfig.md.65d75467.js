import{_ as e,o as s,c as o,V as a,C as l}from"./chunks/framework.493c336a.js";const m=JSON.parse('{"title":"Interface: MxCadConfig","description":"","frontmatter":{},"headers":[],"relativePath":"zh/api/interfaces/2d.MxCadConfig.md","filePath":"zh/api/interfaces/2d.MxCadConfig.md"}'),n={name:"zh/api/interfaces/2d.MxCadConfig.md"},t=a(`<p><a href="./../README.html">mxcad_2d API 文档</a> / <a href="./../modules/2d.html">2d</a> / MxCadConfig</p><h1 id="interface-mxcadconfig" tabindex="-1">Interface: MxCadConfig <a class="header-anchor" href="#interface-mxcadconfig" aria-label="Permalink to &quot;Interface: MxCadConfig&quot;">​</a></h1><p><a href="./../modules/2d.html">2d</a>.MxCadConfig</p><p>createMxCad 的参数配置</p><p><strong><code>Example</code></strong></p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">createMxCad</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">canvas</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#mxcad</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">locateFile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fileName</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">/node_modules/mxcad/dist/wasm/2d/</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">fileName</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">href</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 提供要打开的文件 注意../assets/test.mxweb 是相对路径下的文件地址, </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 在vite中可用通过这样的方式得到该文件正确的的网络地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">fileUrl</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../assets/test.mxweb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">href</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 提供加载字体的目录路径</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">fontspath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">node_modules/mxcad/dist/fonts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">href</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">viewBackgroundColor</span><span style="color:#89DDFF;">:{</span><span style="color:#F07178;">red</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">green</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;">blue</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//黑色背景</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">middlePan</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//禁用鼠标中间键操作</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">multipleSelect</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 开启多选</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">onOpenFileComplete</span><span style="color:#89DDFF;">:()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">成功打开文件！</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><h2 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of contents&quot;">​</a></h2><h3 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h3><ul><li><a href="./2d.MxCadConfig.html#authorized_service">authorized_service</a></li><li><a href="./2d.MxCadConfig.html#browse">browse</a></li><li><a href="./2d.MxCadConfig.html#canvas">canvas</a></li><li><a href="./2d.MxCadConfig.html#enableintelliselect">enableIntelliSelect</a></li><li><a href="./2d.MxCadConfig.html#enableundo">enableUndo</a></li><li><a href="./2d.MxCadConfig.html#fileurl">fileUrl</a></li><li><a href="./2d.MxCadConfig.html#fontspath">fontspath</a></li><li><a href="./2d.MxCadConfig.html#locatefile">locateFile</a></li><li><a href="./2d.MxCadConfig.html#map">map</a></li><li><a href="./2d.MxCadConfig.html#middlepan">middlePan</a></li><li><a href="./2d.MxCadConfig.html#multipleselect">multipleSelect</a></li><li><a href="./2d.MxCadConfig.html#networkfonts">networkFonts</a></li><li><a href="./2d.MxCadConfig.html#oninit">onInit</a></li><li><a href="./2d.MxCadConfig.html#onopenfilecomplete">onOpenFileComplete</a></li><li><a href="./2d.MxCadConfig.html#openparameter">openParameter</a></li><li><a href="./2d.MxCadConfig.html#registdata">registdata</a></li><li><a href="./2d.MxCadConfig.html#registfile">registfile</a></li><li><a href="./2d.MxCadConfig.html#viewbackgroundcolor">viewBackgroundColor</a></li><li><a href="./2d.MxCadConfig.html#wasmbinary">wasmBinary</a></li><li><a href="./2d.MxCadConfig.html#webgl1">webgl1</a></li></ul><h2 id="properties-1" tabindex="-1">Properties <a class="header-anchor" href="#properties-1" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><h3 id="authorized-service" tabindex="-1">authorized_service <a class="header-anchor" href="#authorized-service" aria-label="Permalink to &quot;authorized\\_service&quot;">​</a></h3><p>• <code>Optional</code> <strong>authorized_service</strong>: <code>string</code></p><p>授权服务</p><hr><h3 id="browse" tabindex="-1">browse <a class="header-anchor" href="#browse" aria-label="Permalink to &quot;browse&quot;">​</a></h3><p>• <code>Optional</code> <strong>browse</strong>: <code>number</code> | <code>boolean</code></p><p>true或1,启用浏览模式，CAD对象不能选中 /*2,启用浏览模式，CAD对象能选中,但不能夹点编辑</p><hr><h3 id="canvas" tabindex="-1">canvas <a class="header-anchor" href="#canvas" aria-label="Permalink to &quot;canvas&quot;">​</a></h3><p>• <code>Optional</code> <strong>canvas</strong>: <code>string</code> | <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement" target="_blank" rel="noreferrer"><code>HTMLCanvasElement</code></a></p><p>当通过 MxFun.getCurrentDraw 未发现当前mxDraw实例时， 会通过 canvas属性(值可以是css选择器字符串也可以是一个canvas元素)来创建mxdraw实例 如果想要获得这个mxDraw实例 只需要调用mxdraw包中导出的 MxFun.getCurrentDraw方法即可 如果gis模式下，canvas变量不会使用，会自动使用mapbox的canvas.</p><hr><h3 id="enableintelliselect" tabindex="-1">enableIntelliSelect <a class="header-anchor" href="#enableintelliselect" aria-label="Permalink to &quot;enableIntelliSelect&quot;">​</a></h3><p>• <code>Optional</code> <strong>enableIntelliSelect</strong>: <code>boolean</code></p><p>是否启用选择功能，默认是使用</p><hr><h3 id="enableundo" tabindex="-1">enableUndo <a class="header-anchor" href="#enableundo" aria-label="Permalink to &quot;enableUndo&quot;">​</a></h3><p>• <code>Optional</code> <strong>enableUndo</strong>: <code>boolean</code></p><p>是否启用Undo,默认没有启用</p><hr><h3 id="fileurl" tabindex="-1">fileUrl <a class="header-anchor" href="#fileurl" aria-label="Permalink to &quot;fileUrl&quot;">​</a></h3><p>• <code>Optional</code> <strong>fileUrl</strong>: <code>string</code></p><p>需要初始化打开的文件url路径</p><hr><h3 id="fontspath" tabindex="-1">fontspath <a class="header-anchor" href="#fontspath" aria-label="Permalink to &quot;fontspath&quot;">​</a></h3><p>• <code>Optional</code> <strong>fontspath</strong>: <code>string</code></p><p>字体文件加载路径，默认是fonts</p><hr><h3 id="locatefile" tabindex="-1">locateFile <a class="header-anchor" href="#locatefile" aria-label="Permalink to &quot;locateFile&quot;">​</a></h3><p>• <code>Optional</code> <strong>locateFile</strong>: (<code>fileName</code>: <code>string</code>, <code>base?</code>: <code>string</code> | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" target="_blank" rel="noreferrer"><code>URL</code></a>) =&gt; <code>string</code></p><h4 id="type-declaration" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (<code>fileName</code>, <code>base?</code>): <code>string</code></p><p>获取加载wasm相关文件(wasm/js/worker.js)路径位置</p><p><strong><code>Abstract</code></strong></p><p>本质上locateFile配置函数就是返回wasm相关文件在自己的服务器上的位置 在npm包中<code>node_modules/mxcad/dist/wasm/2d/</code>下的文件就是支持2d的相关wasm文件</p><h5 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>fileName</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">wasm相关的文件名称</td></tr><tr><td style="text-align:left;"><code>base?</code></td><td style="text-align:left;"><code>string</code> | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" target="_blank" rel="noreferrer"><code>URL</code></a></td><td style="text-align:left;">相对于js调用位置的http URL绝对路径</td></tr></tbody></table><h5 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>string</code></p><p>filePath 默认采用base + fileName</p><hr><h3 id="map" tabindex="-1">map <a class="header-anchor" href="#map" aria-label="Permalink to &quot;map&quot;">​</a></h3><p>• <code>Optional</code> <strong>map</strong>: <code>any</code></p><p>地图模块</p><hr><h3 id="middlepan" tabindex="-1">middlePan <a class="header-anchor" href="#middlepan" aria-label="Permalink to &quot;middlePan&quot;">​</a></h3><p>• <code>Optional</code> <strong>middlePan</strong>: <code>number</code> | <code>boolean</code></p><p>iMethod = 0,中键不移动视区，左键移动 iMethod = 1,中键移动视区，左键不移动 iMethod = 2,中键移动视区，左键移动视区</p><hr><h3 id="multipleselect" tabindex="-1">multipleSelect <a class="header-anchor" href="#multipleselect" aria-label="Permalink to &quot;multipleSelect&quot;">​</a></h3><p>• <code>Optional</code> <strong>multipleSelect</strong>: <code>boolean</code></p><p>多选模式,框选功能,默认值是false</p><hr><h3 id="networkfonts" tabindex="-1">networkFonts <a class="header-anchor" href="#networkfonts" aria-label="Permalink to &quot;networkFonts&quot;">​</a></h3><p>• <code>Optional</code> <strong>networkFonts</strong>: <code>string</code>[]</p><p>服务器上可供加载的字体列表</p><hr><h3 id="oninit" tabindex="-1">onInit <a class="header-anchor" href="#oninit" aria-label="Permalink to &quot;onInit&quot;">​</a></h3><p>• <code>Optional</code> <strong>onInit</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer"><code>Function</code></a></p><p>mxdraw和mxcad 核心代码加载完成初始化的回调 onInit默认值函数如下实例所示（请根据你的业务需求自行修改）</p><p><strong><code>Example</code></strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MxFun</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mxdraw</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">onInit</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MxFun</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setIniset</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 启用对象选择功能.</span></span>
<span class="line"><span style="color:#F07178;">     EnableIntelliSelect</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// 是否开启多个选择</span></span>
<span class="line"><span style="color:#F07178;">     multipleSelect</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><hr><h3 id="onopenfilecomplete" tabindex="-1">onOpenFileComplete <a class="header-anchor" href="#onopenfilecomplete" aria-label="Permalink to &quot;onOpenFileComplete&quot;">​</a></h3><p>• <code>Optional</code> <strong>onOpenFileComplete</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer"><code>Function</code></a></p><p>监听打开文件成功回调事件</p><hr><h3 id="openparameter" tabindex="-1">openParameter <a class="header-anchor" href="#openparameter" aria-label="Permalink to &quot;openParameter&quot;">​</a></h3><p>• <code>Optional</code> <strong>openParameter</strong>: <code>object</code></p>`,79),r=l("p",{"fetchAttributes:FetchAttributes.EMSCRIPTEN_FETCH_LOAD_TO_MEMORY":""},"打开文件参数设置，如，打开文件不使用缓存：",-1),p=a('<hr><h3 id="registdata" tabindex="-1">registdata <a class="header-anchor" href="#registdata" aria-label="Permalink to &quot;registdata&quot;">​</a></h3><p>• <code>Optional</code> <strong>registdata</strong>: <code>string</code></p><p>注册数据</p><hr><h3 id="registfile" tabindex="-1">registfile <a class="header-anchor" href="#registfile" aria-label="Permalink to &quot;registfile&quot;">​</a></h3><p>• <code>Optional</code> <strong>registfile</strong>: <code>string</code></p><p>注册文件</p><hr><h3 id="viewbackgroundcolor" tabindex="-1">viewBackgroundColor <a class="header-anchor" href="#viewbackgroundcolor" aria-label="Permalink to &quot;viewBackgroundColor&quot;">​</a></h3><p>• <code>Optional</code> <strong>viewBackgroundColor</strong>: <code>Object</code></p><p>视区背景颜色</p><h4 id="type-declaration-1" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-1" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>blue</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>green</code></td><td style="text-align:left;"><code>number</code></td></tr><tr><td style="text-align:left;"><code>red</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><hr><h3 id="wasmbinary" tabindex="-1">wasmBinary <a class="header-anchor" href="#wasmbinary" aria-label="Permalink to &quot;wasmBinary&quot;">​</a></h3><p>• <code>Optional</code> <strong>wasmBinary</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer"><code>ArrayBuffer</code></a></p><p>WebAssembly 模块二进制文件 默认情况无需配置 *</p><hr><h3 id="webgl1" tabindex="-1">webgl1 <a class="header-anchor" href="#webgl1" aria-label="Permalink to &quot;webgl1&quot;">​</a></h3><p>• <code>Optional</code> <strong>webgl1</strong>: <code>boolean</code></p><p>是否使用webgl1方式启动</p>',22),c=[t,r,p];function i(d,h,y,F,D,C){return s(),o("div",null,c)}const g=e(n,[["render",i]]);export{m as __pageData,g as default};
